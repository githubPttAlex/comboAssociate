<!DOCTYPE html>
<html>
    <head>
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <meta name="description" content="Basic Example - comboAssociate - jQuery Plugin">
            <meta name="author" content="comboAssociate - jQuery Plugin">
            <title>Basic Example - comboAssociate - jQuery Plugin</title>
            <!-- Bootstrap core CSS -->
            <link href="resources/bootstrap-4.0.0/dist/css/bootstrap.min.css" rel="stylesheet">
            <!-- Custom styles for this template -->
            <link href="resources/bootstrap-4.0.0/docs/4.0/examples/album/album.css" rel="stylesheet">
            <link href="resources/css/font-awesome.min.css" rel="stylesheet">
    </head>
    <body>
        <header>
            
            <div class="navbar navbar-dark bg-dark box-shadow">
                  <div class="container d-flex justify-content-between">
                    <a href="index.php" class="navbar-brand d-flex align-items-center">
                          <strong>comboAssociate - jQuery Plugin</strong>
                    </a>
                    
                  </div>
            </div>
        </header>
            <main role="main">
              <section class="jumbotron text-center">
                    <div class="container">
                      <h1 class="jumbotron-heading">comboAssociate - jQuery Plugin <br/>Basic Example 1</h1>
                      <p class="lead text-muted">Simple example managing and populating an HTML combo with server data and assign it an onChange function.</p>
                    </div>
              </section>
              <div class="album py-5 bg-light">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12">
                                <form>
                                    <div class="form-row">
                                        <div class="form-group col-md-12">
                                          <label for="selectCombo1">First Combo</label>
                                          <select id="selectCombo1" class="form-control comboAssociate">
                                                <option value="" selected>Choose...</option>
                                          </select>
                                        </div>           
                                        <div class="form-group col-md-12">
                                          <label for="selectCombo2">Second Combo</label>
                                          <select id="selectCombo2" class="form-control comboAssociate">
                                                <option value="" >Choose...</option>
                                          </select>
                                        </div>   
                                    </div> 
                                    <button id="exampleSubmitButton" type="button" class="btn btn-primary">Submit</button>
                                </form>
                            </div>	
                        </div>
                    </div>
              </div>
            </main>
            <footer class="text-muted">
              <div class="container">
                    <p class="float-right">
                      <a href="#"><i style="color: #dee2e6;font-size: 60px;" class="fa fa-arrow-circle-up fa-4" aria-hidden="true"></i></a>
                    </p>
                    <p>comboAssociate - jQuery Plugin</p>
                    <p>The plugin needs jQuery to work. Visit jQuery website - <a target="_blank" href="https://jquery.com/">jQuery</a>.</p>
                    <p>The plugin doesnt needs bootstrap to work. We only use Bootstrap (version 4.0.0) for docs and examples - <a target="_blank" href="https://getbootstrap.com/">Visit Bootstrap website</a> .</p>
              </div>
            </footer>
            <!-- Bootstrap core JavaScript
            ================================================== -->
            <!-- Placed at the end of the document so the pages load faster -->
            <script src="resources/js/jquery-3.3.1.min.js"></script>
            <script>window.jQuery || document.write('<script src="resources/bootstrap-4.0.0/assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
            <script src="resources/bootstrap-4.0.0/assets/js/vendor/popper.min.js"></script>
            <script src="resources/bootstrap-4.0.0/dist/js/bootstrap.min.js"></script>
            <script src="resources/bootstrap-4.0.0/assets/js/vendor/holder.min.js"></script>
            <!-- including comboAssociate - jQuery Plugin -->
            <script src="resources/js/jquery-comboAssociate-v1-0.js"></script>
            <!-- using comboAssociate - jQuery Plugin -->
            <script>	
                $(document).ready(function(){
                    
                    /* Create options array */
                    var comboAssociateOptions = {
                        debug: true, /* Option to determine if you want to show debug lines on console - by default is false */	
                        url: 'ajaxBasicExample.php', /* PHP-URL where we get the data */
                        chooseOption: true, /* Option to determine if the combo use an <option> tag for "CHOOSE AN OPTION" - by default is false */
                        chooseOptionValue:'-1', /* Option to determine the value of <option> tag for "CHOOSE AN OPTION" - by default is '0' */
                        chooseOptionText:'Choose...', /* Option to determine the text of <option> tag for "CHOOSE AN OPTION" - by default is 'Choose an option...' */
                        empty: true, /* Option to determine if you want we remove all the <option> tags before populating again with server data - by default is true */
                        dataType: "json", /* Option to determine dataType on ajax call - by default is 'json' */
                        type: "POST", /* Option to determine request type on ajax call - by default is 'POST' */
                        onChange: function () { /* Function to make actions at onChange.... */
                            alert('#selectCombo1 - onChange');
                            
                            var idToSend = $("select#selectCombo1 option:selected").val();
                            var data = {};
                            data.id = idToSend;
                            data.anotherDummyValue ='anotherDummyValue';/* If you need add more parameters for your ajax call...feel free!!  */

                            $("select#selectCombo2").comboAssociate({
                                data: data, /* Option to determine the data you will send to server (ajax call parameters) */
                                url: 'ajaxBasicExample1-combo2.php',
                                //chooseOption: true, 
                                //chooseOptionValue:'-2', 
                                //chooseOptionText:'Another text...',
                                empty: false,
                                onChange: function () { 
                                    alert('#selectCombo2 - onChange');
                                },
                                beforeFunction: function () { 
                                    alert('#selectCombo2 - beforeFunction:');
                                },
                                afterFunction: function () { 
                                    alert('selectCombo2 - afterFunction:');
                                }
                            });
                        },
                        beforeFunction: function () { /* Function to make actions before.... */
                            alert('#selectCombo1 - beforeFunction');
                        },
                        afterFunction: function () { /* Function to make actions after.... */
                            alert('#selectCombo1 - afterFunction');
                        }
                    };

                    
                    //$("#selectCombo1").comboAssociate(comboAssociateOptions).css('margin-left', '-300px'); 
                    //$("#selectCombo1,#selectCombo2").comboAssociate(comboAssociateOptions).css('margin-left', '-300px'); 
                    //$("select").comboAssociate(comboAssociateOptions).css('margin-left', '-300px'); 
                    //$(".comboAssociate").comboAssociate(comboAssociateOptions); 
                    
                    /* Call comboAssociate plugin with options array */
                    $("#selectCombo1").comboAssociate(comboAssociateOptions);
                    
                    /* Assign a function for submit button - (doesn't needed for plugin to work) */
                    $("#exampleSubmitButton").on('click', function(){
                        alert('Sorry....this is your work....enjoy it!!!');
                    });
                });
            </script>		 
    </body>
</html>